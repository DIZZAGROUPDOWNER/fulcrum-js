{"version":3,"sources":["../../src/resources/authorization.js"],"names":["Authorization","object","email","password","encoded","encode","options","body","attributesForObject","headers","client","noTokenApi","post","createAction","resourceName","collectionPath","includeInto"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;IAEqBA,a;;;;;;;;;;;2GAaNC,M,EAAQC,K,EAAOC,Q;;;;;;AACpBC,uB,GAAU,eAAOC,MAAP,CAAiBH,KAAjB,SAA0BC,QAA1B,C;AACVG,uB,GAAU;AACdC,wBAAM,KAAKC,mBAAL,CAAyBP,MAAzB,CADQ;AAEdQ,2BAAS;AACP,gDAA0BL,OADnB;AAEP,8BAAU,kBAFH;AAGP,oCAAgB;AAHT;AAFK,iB;;uBASG,KAAKM,MAAL,CAAYC,UAAZ,CAChBC,IADgB,CACX,KAAKC,YADM,EACQP,OADR,C;;;AAAbC,oB;iDAGCA,KAAK,KAAKO,YAAV,C;;;;;;;;;;;;;;;;;;wBA1BU;AACjB,aAAO,eAAP;AACD;;;wBAEmB;AAClB,aAAO,gBAAP;AACD;;;wBAEkB;AACjB,aAAO,KAAKC,cAAL,EAAP;AACD;;;;;kBAXkBf,a;;;AA+BrB,eAAKgB,WAAL,CAAiBhB,aAAjB;AACA,eAAKgB,WAAL,CAAiBhB,aAAjB;AACA,iBAAOgB,WAAP,CAAmBhB,aAAnB;AACA,iBAAOgB,WAAP,CAAmBhB,aAAnB","file":"authorization.js","sourcesContent":["import base64 from 'base-64';\n\nimport List from '../actions/list';\nimport Find from '../actions/find';\nimport Update from '../actions/update';\nimport Delete from '../actions/delete';\nimport Resource from './base';\n\nexport default class Authorization extends Resource {\n  get resourceName() {\n    return 'authorization';\n  }\n\n  get resourcesName() {\n    return 'authorizations';\n  }\n\n  get createAction() {\n    return this.collectionPath();\n  }\n\n  async create(object, email, password) {\n    const encoded = base64.encode(`${email}:${password}`);\n    const options = {\n      body: this.attributesForObject(object),\n      headers: {\n        'Authorization': `Basic ${encoded}`,\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      }\n    };\n\n    const body = await this.client.noTokenApi\n      .post(this.createAction, options);\n\n    return body[this.resourceName];\n  }\n}\n\nList.includeInto(Authorization);\nFind.includeInto(Authorization);\nUpdate.includeInto(Authorization);\nDelete.includeInto(Authorization);\n"]}