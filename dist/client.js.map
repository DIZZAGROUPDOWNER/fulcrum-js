{"version":3,"sources":["../src/client.js"],"names":["Client","token","base","options","baseURI","headers","tokenOptions","Object","assign","noTokenOptions","api","noTokenApi","path","urlFromPath","_forms","_records","_changesets","_choiceLists","_classificationSets","_authorizations","_memberships","_projects","_layers","_photos","_videos","_audio","_roles"],"mappings":"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","file":"client.js","sourcesContent":["import Frisbee from 'frisbee';\n\nimport Form from './resources/form';\nimport Record from './resources/record';\nimport Changeset from './resources/changeset';\nimport ChoiceList from './resources/choice-list';\nimport ClassificationSet from './resources/classification-set';\nimport Authorization from './resources/authorization';\nimport Membership from './resources/membership';\nimport Project from './resources/project';\nimport Layer from './resources/layer';\nimport Photo from './resources/photo';\nimport Video from './resources/video';\nimport Audio from './resources/audio';\nimport Role from './resources/role';\n\nexport default class Client {\n  constructor(token, base) {\n    this.base = base || 'https://api.fulcrumapp.com/api/v2';\n\n    const options = {\n      baseURI: this.base,\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      }\n    };\n\n    const tokenOptions = Object.assign({}, options);\n    tokenOptions.headers['X-ApiToken'] = token;\n    const noTokenOptions = Object.assign({}, options);\n\n    this.api = new Frisbee(tokenOptions);\n    this.noTokenApi = new Frisbee(noTokenOptions);\n  }\n\n  urlFromPath(path, base) {\n    return (base || this.base) + '/' + path;\n  }\n\n  url(path, base) {\n    return this.urlFromPath(path, base);\n  }\n\n  get forms() {\n    if (!this._forms) {\n      this._forms = new Form(this);\n    }\n    return this._forms;\n  }\n\n  get records() {\n    if (!this._records) {\n      this._records = new Record(this);\n    }\n    return this._records;\n  }\n\n  get changesets() {\n    if (!this._changesets) {\n      this._changesets = new Changeset(this);\n    }\n    return this._changesets;\n  }\n\n  get choiceLists() {\n    if (!this._choiceLists) {\n      this._choiceLists = new ChoiceList(this);\n    }\n    return this._choiceLists;\n  }\n\n  get classificationSets() {\n    if (!this._classificationSets) {\n      this._classificationSets = new ClassificationSet(this);\n    }\n    return this._classificationSets;\n  }\n\n  get authorizations() {\n    if (!this._authorizations) {\n      this._authorizations = new Authorization(this);\n    }\n    return this._authorizations;\n  }\n\n  get memberships() {\n    if (!this._memberships) {\n      this._memberships = new Membership(this);\n    }\n    return this._memberships;\n  }\n\n  get projects() {\n    if (!this._projects) {\n      this._projects = new Project(this);\n    }\n    return this._projects;\n  }\n\n  get layers() {\n    if (!this._layers) {\n      this._layers = new Layer(this);\n    }\n    return this._layers;\n  }\n\n  get photos() {\n    if (!this._photos) {\n      this._photos = new Photo(this);\n    }\n    return this._photos;\n  }\n\n  get videos() {\n    if (!this._videos) {\n      this._videos = new Video(this);\n    }\n\n    return this._videos;\n  }\n\n  get audio() {\n    if (!this._audio) {\n      this._audio = new Audio(this);\n    }\n\n    return this._audio;\n  }\n\n  get roles() {\n    if (!this._roles) {\n      this._roles = new Role(this);\n    }\n\n    return this._roles;\n  }\n}\n"]}